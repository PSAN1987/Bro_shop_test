

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>見積番号管理フォーム</title>
    <style>
        body {
            font-family: sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 1em;
        }
        label {
            display: block;
            margin-top: 1em;
        }
        input[type=text], textarea {
            width: 100%;
            padding: 0.5em;
            margin-top: 0.3em;
        }
        input[type=submit] {
            margin-top: 1em;
            padding: 0.7em 1em;
        }
    </style>
</head>
<body>
    <h2>見積番号管理フォーム</h2>
    <form action="/submit_quotation" method="post">
        <input type="hidden" name="form_token" value="{{ token }}">

        <!-- 基本情報 -->
        <label>見積番号: <input type="text" name="quote_no" required value="{{ prefill.get('quote_no', '') }}"></label>
        <label>ユーザーID: <input type="text" name="user_id" required value="{{ prefill.get('user_id', '') }}"></label>
        <label>属性: <input type="text" name="attribute" required value="{{ prefill.get('attribute', '') }}"></label>
        <label>使用日(割引区分): <input type="text" name="usage_date" required value="{{ prefill.get('usage_date', '') }}"></label>
        <label>商品カテゴリー: <input type="text" name="product_category" required value="{{ prefill.get('product_category', '') }}"></label>
        <label>パターン: <input type="text" name="pattern" required value="{{ prefill.get('pattern', '') }}"></label>
        <label>枚数: <input type="text" name="quantity" required value="{{ prefill.get('quantity', '') }}"></label>
        <label>合計金額: <input type="text" name="total_price" required value="{{ prefill.get('total_price', '') }}"></label>
        <label>単価: <input type="text" name="unit_price" required value="{{ prefill.get('unit_price', '') }}"></label>

        <!-- ボディ情報 -->
        <label>ボディ品番: <input type="text" name="body_code" value="{{ prefill.get('body_code', '') }}"></label>
        <label>ボディ商品名: <input type="text" name="body_name" value="{{ prefill.get('body_name', '') }}"></label>
        <label>ボディカラーNo: <input type="text" name="body_color_no" value="{{ prefill.get('body_color_no', '') }}"></label>
        <label>商品カラー: <input type="text" name="body_color" value="{{ prefill.get('body_color', '') }}"></label>
        <label>サイズ: <input type="text" name="size" value="{{ prefill.get('size', '') }}"></label>
        <label>注文数: <input type="text" name="order_count" value="{{ prefill.get('order_count', '') }}"></label>

        <!-- プリント情報 -->
        <label>プリント箇所数: <input type="text" name="print_area_count" value="{{ prefill.get('print_area_count', '') }}"></label>

        {% for i in range(1, 5) %}
        <fieldset style="margin-top:1.5em; border:1px solid #ccc; padding:1em;">
            <legend>プリント情報 {{ i }}箇所目</legend>
            <label>位置: <input type="text" name="print_position_{{ i }}" value="{{ prefill.get('print_position_' ~ i, '') }}"></label>
            <label>デザイン: <input type="text" name="print_design_{{ i }}" value="{{ prefill.get('print_design_' ~ i, '') }}"></label>
            <label>カラー数: <input type="text" name="print_color_count_{{ i }}" value="{{ prefill.get('print_color_count_' ~ i, '') }}"></label>
            <label>カラー内容: <input type="text" name="print_color_{{ i }}" value="{{ prefill.get('print_color_' ~ i, '') }}"></label>
            <label>デザインサイズ: <input type="text" name="print_size_{{ i }}" value="{{ prefill.get('print_size_' ~ i, '') }}"></label>
        </fieldset>
        {% endfor %}

        <!-- 背番号/背ネーム -->
        <label>背番号: <input type="text" name="jersey_number" value="{{ prefill.get('jersey_number', '') }}"></label>
        <label>背ネーム: <input type="text" name="jersey_name" value="{{ prefill.get('jersey_name', '') }}"></label>
        <label>背番号カラー: <input type="text" name="jersey_number_color" value="{{ prefill.get('jersey_number_color', '') }}"></label>
        <label>背ネームカラー: <input type="text" name="jersey_name_color" value="{{ prefill.get('jersey_name_color', '') }}"></label>
        <label>フチ付き: <input type="text" name="outline_enabled" value="{{ prefill.get('outline_enabled', '') }}"></label>
        <label>記号: <input type="text" name="symbol" value="{{ prefill.get('symbol', '') }}"></label>

        <!-- 加工・納期 -->
        <label>加工方法: <input type="text" name="processing_method" value="{{ prefill.get('processing_method', '') }}"></label>
        <label>納期: <input type="text" name="delivery_date" value="{{ prefill.get('delivery_date', '') }}"></label>
        <label>支払い方法: <input type="text" name="payment_method" value="{{ prefill.get('payment_method', '') }}"></label>

        <!-- 備考欄 -->
        <label>特殊仕様: <textarea name="special_spec">{{ prefill.get('special_spec', '') }}</textarea></label>
        <label>希望納期: <textarea name="requested_delivery">{{ prefill.get('requested_delivery', '') }}</textarea></label>
        <label>袋詰め有無: <input type="text" name="packaging" value="{{ prefill.get('packaging', '') }}"></label>
        <label>その他: <textarea name="other_notes">{{ prefill.get('other_notes', '') }}</textarea></label>

        <!-- ヒアリング後の反映情報 -->
        <label>パターン料金: <input type="text" name="pattern_fee" value="{{ prefill.get('pattern_fee', '') }}"></label>
        <label>枚数（ロット）: <input type="text" name="lot_size" value="{{ prefill.get('lot_size', '') }}"></label>
        <label>送料: <input type="text" name="shipping_fee" value="{{ prefill.get('shipping_fee', '') }}"></label>
        <label>納期（希望日）: <input type="text" name="delivery_request_date" value="{{ prefill.get('delivery_request_date', '') }}"></label>

        <!-- URL -->
        <label>見積番号管理WEBフォームURL: <input type="text" name="form_url" value="{{ prefill.get('form_url', '') }}"></label>

        <input type="submit" value="保存">
    </form>
</body>
</html>
